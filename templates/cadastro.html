<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="png" href="/static/img/favicon.ico" />
    <title>Cadastro - SmartCart</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=BBH+Sans+Bartle&family=BBH+Sans+Hegarty&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/cadastro.css')
    }}"
    />
  </head>
  <body>
    
    <section class="section">
        <div class="voltarContainer"><a id="voltar" href="/"><img src="/static/img/Seta.png" alt="" /></a></div>
        
      <div class="coluna cadastro">
        
        <h1>Cadastrar</h1>

        <form id="formCadastro" method="POST">
            <input type="text" id="nmCompleto" name="nome" placeholder="Nome Completo" required>
            <input type="text" id="cnpj" name="cnpj" placeholder="CNPJ" required>
            <input type="tel" id="tel" name="tel" placeholder="Número de Telefone"  required>
            <input type="email" name="email" placeholder="Email" required id="email">
            <input type="password" name="senha" id="senha" placeholder="Senha" required>
            
            <div id="checkboxContainer">
                <label class="checkbox-container">
                    <input type="checkbox" id="checkbox" required>
                    <span class="checkmark"></span>
                </label>
                <p>
                  Estou ciente e concordo com o uso dos meus dados<br>
                  conforme a <a href="../static/img/politica_privacidade.pdf" target="_blank" rel="noopener noreferrer">Política de Privacidade.</a>
                </p>
            </div>

            <div id="containerSubmit">
                <input type="submit" value="Cadastrar" id="cadastrar">
            </div>
            {% if request.args.get('erro') %}
            <p style="color: red"><b>{{ request.args.get('erro') }}</b></p>
            {% endif %}
            <p>Já tem conta? <a href="/login">Entrar</a></p>
        </form>
          
        </div>
      </div>
    
    </section>
    <div class="title"><h1>Transforme as compras do <br>seus <span>clientes.</span></h1></div>

    <script>
        let tel = document.getElementById("tel");

        tel.addEventListener("input", () => {
          let v = tel.value.replace(/\D/g, "");

          v = v.substring(0, 11);

          if (v.length > 6 && v.length <= 10){
            v = v.replace(/(\d{2})(\d{5})(\d{0,4})/, "($1) $2$3")
          }  else if( v.length === 11) {
            v = v.replace(/(\d{2})(\d{5})(\d{4})/, "($1) $2-$3")
          } else if (v.length > 2) {
            v = v.replace(/(\d{2})(\d{0,5})/, "($1) $2")
          } else if (v.length === 2) {
            v = `( ${v}`;
          } else {
            v = v
          }
         
          tel.value = v;
        });

        let cnpj = document.getElementById("cnpj");

        cnpj.addEventListener("input", () => {
        let n = cnpj.value.replace(/\D/g, "");

        n = n.substring(0, 14);

        if (n.length > 12) {
          n = n.replace(
            /(\d{2})(\d{3})(\d{3})(\d{4})(\d{0,2})/,
            "$1.$2.$3/$4-$5"
          );
        } else if (n.length > 8) {
          n = n.replace(/(\d{2})(\d{3})(\d{3})(\d{0,4})/, "$1.$2.$3/$4");
        } else if (n.length > 5) {
          n = n.replace(/(\d{2})(\d{3})(\d{0,3})/, "$1.$2.$3");
        } else if (n.length > 2) {
          n = n.replace(/(\d{2})(\d{0,3})/, "$1.$2");
        } else {
          n = n.replace(/(\d{0,2})/, "$1");
        }

        cnpj.value = n;
      });

    </script>

  </body>
</html>
